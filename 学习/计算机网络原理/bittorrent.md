---
aliases:
- BT协议
create_date: 2023-02-04 03:24
tags:
- 学习/计算机网络原理
---

# 简介

一种 P2P 架构的文件分发协议

# 组成部分

torrent: 交换同一个文件块的节点组
tracker: 跟踪参与 torrent 的节点

# 交互流程

文件划分为 256KB 的 chunk

- 节点加入 torrent
- 下载的同时，节点需要向其他节点上传 chunk
- 节点可能加入或离开

## 获取 chunk

在任一时刻，不同节点持有文件的不同 chunk 集合
节点定期查询每个邻居所持有的 chunk 列表
节点发送请求，请求缺失的 chunk，稀缺 chunk 优先

## 发送 chunk

节点向四个邻居发送 chunk，正在向其发送 chunk 是速率最快的四个
每 10 秒评估速率最快的邻居

每 30 秒随机选择一个其他节点，向其发送 chunk，优先选择向自己发送 chunk 的邻居

上传速率越高，越容易获取文件
